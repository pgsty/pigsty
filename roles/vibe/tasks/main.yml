---
#--------------------------------------------------------------#
# VIBE - Development Tools Module
#--------------------------------------------------------------#

#--------------------------------------------------------------#
# VIBE_DIR - Create workspace and render context files
#--------------------------------------------------------------#
- name: create vibe workspace directory
  tags: vibe_dir
  block:

    - name: create vibe workspace directory
      file: path="{{ vibe_data }}" state=directory owner="{{ node_user | default('root') }}" group="{{ node_user | default('root') }}" mode='0755'
    - name: render CLAUDE.md context file
      template: src=CLAUDE.md dest="{{ vibe_data }}/CLAUDE.md" owner="{{ node_user | default('root') }}" mode='0644'
    - name: create AGENTS.md symlink
      file: src=CLAUDE.md dest="{{ vibe_data }}/AGENTS.md" state=link


#--------------------------------------------------------------#
# CODE - VS Code Server
#--------------------------------------------------------------#
- import_tasks: code.yml
  when: code_enabled|bool
  tags: code


#--------------------------------------------------------------#
# JUPYTER - JupyterLab
#--------------------------------------------------------------#
- import_tasks: jupyter.yml
  when: jupyter_enabled|bool
  tags: jupyter


#--------------------------------------------------------------#
# NODEJS - Node.js Runtime
#--------------------------------------------------------------#
- import_tasks: nodejs.yml
  when: nodejs_enabled|bool
  tags: nodejs


#--------------------------------------------------------------#
# CLAUDE - Claude Code CLI Configuration
#--------------------------------------------------------------#
- import_tasks: claude.yml
  when: claude_enabled|bool
  tags: claude

...
