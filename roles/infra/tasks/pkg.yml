---
#--------------------------------------------------------------#
# Infra rpm/deb Packages                             [infra_pkg]
#--------------------------------------------------------------#
- name: install infra node packages
  tags: infra_pkg
  environment: "{{ proxy_env | default({}) }}"
  package: name={{ item }}
  with_items: "{{ infra_packages | default(infra_packages_default) | default([]) }}"


#--------------------------------------------------------------#
# UV Config for China Region                          [infra_uv]
#--------------------------------------------------------------#
- name: create uv config directory
  tags: infra_uv
  when: region is defined and region == 'china'
  file: path=/etc/uv state=directory mode=0755

- name: render uv config for china region
  tags: infra_uv
  when: region is defined and region == 'china'
  copy:
    dest: /etc/uv/uv.toml
    mode: '0644'
    content: |
      [[index]]
      url = "https://mirrors.aliyun.com/pypi/simple/"
      default = true


...